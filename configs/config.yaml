# =============================================================================
# RuleBack 应用配置文件
# =============================================================================
# 本配置文件定义了应用程序的所有配置项
# 配置项可通过环境变量覆盖，格式: APP_分组_字段 (大写下划线)
# 例如: APP_SERVER_PORT=9090 覆盖 server.port
# =============================================================================

# -----------------------------------------------------------------------------
# 应用基础配置
# -----------------------------------------------------------------------------
app:
  # 应用名称，用于日志标识和服务发现
  name: "ruleback"
  # 运行环境: development, staging, production
  env: "development"
  # 是否开启调试模式
  debug: true

# -----------------------------------------------------------------------------
# HTTP 服务器配置
# -----------------------------------------------------------------------------
server:
  # 监听地址
  host: "0.0.0.0"
  # 监听端口
  port: 8080
  # 读取超时时间(秒)
  read_timeout: 30
  # 写入超时时间(秒)
  write_timeout: 30

# -----------------------------------------------------------------------------
# 数据库配置
# -----------------------------------------------------------------------------
database:
  # 数据库驱动: mysql, postgres
  driver: "mysql"
  # 数据库主机地址
  host: "localhost"
  # 数据库端口
  port: 3306
  # 数据库名称
  database: "ruleback"
  # 用户名
  username: "root"
  # 密码 (生产环境建议使用环境变量 APP_DATABASE_PASSWORD)
  password: ""
  # 最大打开连接数
  max_open_conns: 100
  # 最大空闲连接数
  max_idle_conns: 10
  # 连接最大生命周期(秒)
  conn_max_lifetime: 3600

# -----------------------------------------------------------------------------
# 日志配置
# -----------------------------------------------------------------------------
log:
  # 日志级别: debug, info, warn, error
  level: "info"
  # 日志格式: json, console
  format: "json"
  # 输出位置: stdout, file
  output: "stdout"
  # 日志文件路径(当output为file时使用)
  file_path: "logs/app.log"

# -----------------------------------------------------------------------------
# JWT 配置
# -----------------------------------------------------------------------------
jwt:
  # JWT签名密钥 (生产环境必须使用环境变量 APP_JWT_SECRET)
  secret: "your-secret-key-change-in-production"
  # Token过期时间(小时)
  expire_time: 24
  # Token签发者
  issuer: "ruleback"
